<!DOCTYPE html>
<html>
<head>
    <title>Landscaping Price Estimator</title>
  <style>
    /* Fix Google Autocomplete dropdown */
    .pac-container {
        z-index: 10000 !important;
    }
</style>

    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA1ioQWFb46k7v7Ds8DHOlxjrPf30cKrXI&libraries=places"></script>
    <script>
        function initAutocomplete() {
            try {
                var input = document.getElementById('address');
                if (google && google.maps && google.maps.places) {
                    var autocomplete = new google.maps.places.Autocomplete(input);
                    autocomplete.addListener('place_changed', function() {
                        var place = autocomplete.getPlace();
                        if (!place.geometry) {
                            // User entered the name of a Place that was not suggested and
                            // pressed the Enter key, or the Place Details request failed.
                            window.alert("No details available for input: '" + place.name + "'");
                            return;
                        }
                        document.getElementById('address').value = place.formatted_address;
                    });
                } else {
                    throw new Error('Google Maps API not loaded');
                }
            } catch (error) {
                console.error('Error initializing Google Maps Autocomplete:', error);
                alert('Error initializing Google Maps Autocomplete. Please try again later.');
            }
        }

        function calculatePrice() {
            try {
                var address = document.getElementById('address').value;
                if (!address) {
                    alert('Please enter a valid address.');
                    return;
                }
                var sqft = Math.floor(Math.random() * 5000) + 1000; // Simulating lawn area detection
                var pricePerSqft = 0.10; // $0.10 per sqft
                var totalPrice = sqft * pricePerSqft;
                document.getElementById("result").innerHTML =
                    "Estimated Lawn Area: " + sqft + " sq. ft.<br>" +
                    "Total Price: $" + totalPrice.toFixed(2);
            } catch (error) {
                console.error('Error calculating price:', error);
                alert('Error calculating price. Please try again.');
            }
        }

        window.onload = function() {
            initAutocomplete();
        };
    </script>
</head>
<body>
    <h2>Landscaping Pricing Estimator</h2>
    <p>Enter your address to estimate the lawn cutting cost:</p>
    <input id="address" type="text" placeholder="Enter Address">
    <button onclick="calculatePrice()">Get Price Estimate</button>
    <p id="result"></p>
</body>
</html>
